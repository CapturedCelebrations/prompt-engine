<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Photo Booth Prompt Engine ‚Äî Free Access</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --gold: #D4738C;
  --gold-light: #B85570;
  --dark: #FDF9F9;
  --dark-card: #FFFFFF;
  --dark-input: #FBF5F6;
  --dark-border: #F0DEE2;
  --text: #3D2B30;
  --text-muted: #9C7882;
  --accent: #C4607A;
  --success: #6DAE72;
  --warn: #D4956A;
  --info: #7BA3C9;
  --glow: rgba(212, 115, 140, 0.1);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--dark);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(ellipse at 30% 20%, rgba(212,115,140,0.06) 0%, transparent 50%),
              radial-gradient(ellipse at 70% 80%, rgba(212,115,140,0.04) 0%, transparent 50%);
  pointer-events: none; z-index: 0;
}

.container {
  max-width: 920px;
  margin: 0 auto;
  padding: 40px 24px 60px;
  position: relative; z-index: 1;
}

.header { text-align: center; margin-bottom: 32px; }
.header .brand {
  font-family: 'Playfair Display', serif;
  font-size: 11px; letter-spacing: 4px;
  text-transform: uppercase; color: var(--gold);
  margin-bottom: 8px;
}
.header h1 {
  font-family: 'Playfair Display', serif;
  font-size: 36px; font-weight: 700;
  color: var(--text); line-height: 1.2; margin-bottom: 8px;
}
.header h1 span { color: var(--gold); }
.header .subtitle { font-size: 14px; color: var(--text-muted); font-weight: 300; }

/* Mode tabs */
.mode-tabs { display: flex; justify-content: center; gap: 4px; margin-bottom: 36px; background: var(--dark-input); border-radius: 12px; padding: 4px; max-width: 400px; margin-left: auto; margin-right: auto; }
.mode-tab {
  flex: 1; padding: 10px 16px; border: none; border-radius: 10px;
  background: transparent; color: var(--text-muted);
  font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500;
  cursor: pointer; transition: all 0.25s ease;
}
.mode-tab.active { background: var(--dark-card); color: var(--gold); box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
.mode-tab:hover:not(.active) { color: var(--text); }

/* Steps */
.steps { display: flex; justify-content: center; gap: 8px; margin-bottom: 40px; }
.step-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--dark-border); transition: all 0.4s ease;
}
.step-dot.active { background: var(--gold); box-shadow: 0 0 12px rgba(212,115,140,0.4); }
.step-dot.completed { background: var(--success); }

/* Cards */
.card {
  background: var(--dark-card);
  border: 1px solid var(--dark-border);
  border-radius: 16px; padding: 32px;
  margin-bottom: 24px; transition: border-color 0.3s ease;
  animation: fadeIn 0.5s ease forwards;
  box-shadow: 0 2px 12px rgba(0,0,0,0.04);
}
.card:hover { border-color: rgba(212,115,140,0.35); }
.card-label {
  font-size: 10px; letter-spacing: 3px;
  text-transform: uppercase; color: var(--gold);
  margin-bottom: 16px; font-weight: 600;
}
.card h3 { font-family: 'Playfair Display', serif; font-size: 20px; margin-bottom: 6px; }
.card p.desc { font-size: 13px; color: var(--text-muted); margin-bottom: 20px; line-height: 1.5; }

/* Recommendation banner */
.rec-banner {
  background: rgba(212,115,140,0.06);
  border: 1px solid rgba(212,115,140,0.25);
  border-radius: 10px; padding: 14px 18px;
  margin-top: 16px; display: none;
  font-size: 13px; line-height: 1.6;
}
.rec-banner .rec-label {
  font-size: 10px; letter-spacing: 2px;
  text-transform: uppercase; color: var(--gold);
  margin-bottom: 6px; font-weight: 600;
}
.rec-banner .rec-text { color: var(--text-muted); }
.rec-banner .rec-text strong { color: var(--gold); }

/* Selection Grid */
.selection-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 10px;
}
.sel-btn {
  background: var(--dark-input);
  border: 1.5px solid var(--dark-border);
  border-radius: 10px; padding: 14px 12px;
  color: var(--text);
  font-family: 'DM Sans', sans-serif; font-size: 13px;
  cursor: pointer; text-align: center;
  transition: all 0.25s ease; line-height: 1.3;
}
.sel-btn:hover { border-color: var(--gold); background: rgba(212,115,140,0.06); }
.sel-btn.selected {
  border-color: var(--gold);
  background: rgba(212,115,140,0.1);
  color: var(--gold);
  box-shadow: 0 0 16px rgba(212,115,140,0.1);
}
.sel-btn .emoji { display: block; font-size: 22px; margin-bottom: 6px; }
.sel-btn .label { font-weight: 500; font-size: 12px; }
.sel-btn .sublabel { font-size: 10px; color: var(--text-muted); margin-top: 3px; display: block; }

/* Textarea */
textarea {
  width: 100%; min-height: 100px;
  background: var(--dark-input);
  border: 1.5px solid var(--dark-border);
  border-radius: 10px; padding: 16px;
  color: var(--text);
  font-family: 'DM Sans', sans-serif; font-size: 14px;
  resize: vertical; outline: none;
  transition: border-color 0.3s ease;
}
textarea:focus { border-color: var(--gold); }
textarea::placeholder { color: var(--text-muted); }

/* Toggles */
.toggle-row { display: flex; flex-wrap: wrap; gap: 8px; }
.toggle-chip {
  background: var(--dark-input);
  border: 1px solid var(--dark-border);
  border-radius: 20px; padding: 8px 16px;
  color: var(--text-muted);
  font-family: 'DM Sans', sans-serif; font-size: 12px;
  cursor: pointer; transition: all 0.25s ease;
}
.toggle-chip:hover { border-color: var(--gold); }
.toggle-chip.active {
  background: rgba(212,115,140,0.12);
  border-color: var(--gold);
  color: var(--gold);
}

/* Generate button */
.generate-btn {
  display: block; width: 100%; margin-top: 28px;
  background: linear-gradient(135deg, var(--gold), var(--accent));
  border: none; border-radius: 12px;
  padding: 16px; color: #FFFFFF;
  font-family: 'DM Sans', sans-serif; font-size: 15px;
  font-weight: 600; cursor: pointer;
  transition: all 0.3s ease; letter-spacing: 0.5px;
}
.generate-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(212,115,140,0.3);
}

/* Output */
.output-card {
  display: none;
  background: var(--dark-card);
  border: 1px solid var(--gold);
  border-radius: 16px; padding: 32px;
  margin-top: 32px;
}
.output-card.visible { display: block; animation: fadeIn 0.5s ease forwards; }
.output-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; flex-wrap: wrap; gap: 8px; }
.output-header h3 { font-family: 'Playfair Display', serif; font-size: 20px; }
.copy-btn {
  background: transparent; border: 1px solid var(--gold);
  border-radius: 8px; padding: 8px 16px;
  color: var(--gold); font-family: 'DM Sans', sans-serif;
  font-size: 12px; cursor: pointer; transition: all 0.3s ease;
}
.copy-btn:hover { background: rgba(212,115,140,0.1); }
.copy-btn.copied { background: var(--success); color: white; border-color: var(--success); }

.output-meta { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 16px; }
.meta-tag {
  background: rgba(212,115,140,0.1);
  border: 1px solid rgba(212,115,140,0.25);
  border-radius: 6px; padding: 4px 10px;
  font-size: 11px; color: var(--gold);
}
.prompt-output {
  background: var(--dark-input);
  border: 1px solid var(--dark-border);
  border-radius: 10px; padding: 20px;
  font-size: 14px; line-height: 1.7;
  color: var(--text); white-space: pre-wrap;
  margin-bottom: 16px;
}

/* Negative prompt */
.neg-section {
  background: rgba(123,163,201,0.06);
  border: 1px solid rgba(123,163,201,0.2);
  border-radius: 10px; padding: 16px;
  margin-bottom: 16px;
}
.neg-section h4 {
  font-family: 'Playfair Display', serif;
  font-size: 14px; color: var(--info); margin-bottom: 8px;
}
.neg-section p { font-size: 13px; color: var(--text-muted); line-height: 1.6; }
.neg-copy-btn {
  background: transparent; border: 1px solid var(--info);
  border-radius: 6px; padding: 5px 12px;
  color: var(--info); font-family: 'DM Sans', sans-serif;
  font-size: 11px; cursor: pointer; margin-top: 8px;
  transition: all 0.3s ease; display: inline-block;
}
.neg-copy-btn:hover { background: rgba(123,163,201,0.1); }

/* Tips */
.tips h4 { font-family: 'Playfair Display', serif; font-size: 14px; color: var(--gold); margin-bottom: 8px; }
.tips .setup-checklist {
  margin-top: 10px; font-size: 12px; color: var(--text-muted); line-height: 1.8;
}

/* Reverse engineer section */
.re-section { display: none; }
.re-section.visible { display: block; }
.re-upload-zone {
  border: 2px dashed var(--dark-border); border-radius: 12px;
  padding: 40px; text-align: center; cursor: pointer;
  transition: all 0.3s ease; background: var(--dark-input);
}
.re-upload-zone:hover { border-color: var(--gold); background: rgba(212,115,140,0.04); }
.re-upload-zone .icon { font-size: 36px; margin-bottom: 12px; }
.re-upload-zone p { font-size: 13px; color: var(--text-muted); }
.re-upload-zone p strong { color: var(--gold); }
.re-preview { max-width: 300px; border-radius: 10px; margin: 16px auto; display: none; }
.re-analyzing {
  text-align: center; padding: 30px; display: none;
  font-size: 14px; color: var(--text-muted);
}
.re-analyzing .spinner {
  width: 32px; height: 32px; border: 3px solid var(--dark-border);
  border-top-color: var(--gold); border-radius: 50%;
  animation: spin 0.8s linear infinite; margin: 0 auto 12px;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Builder section */
.builder-section { display: block; }
.builder-section.hidden { display: none; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 600px) {
  .container { padding: 24px 16px 40px; }
  .header h1 { font-size: 28px; }
  .card { padding: 24px; }
  .selection-grid { grid-template-columns: repeat(2, 1fr); }
}
/* Email Gate */
.gate-overlay { position: relative; z-index: 10; }
.gate-card {
  background: var(--dark-card);
  border: 1.5px solid var(--gold);
  border-radius: 20px;
  padding: 48px 36px;
  max-width: 520px;
  margin: 0 auto;
  text-align: center;
  box-shadow: 0 8px 40px rgba(212,115,140,0.12);
  animation: fadeIn 0.6s ease forwards;
}
.gate-card .gate-icon { font-size: 48px; margin-bottom: 16px; }
.gate-card h2 {
  font-family: 'Playfair Display', serif;
  font-size: 26px; margin-bottom: 8px; color: var(--text);
}
.gate-card .gate-sub {
  font-size: 14px; color: var(--text-muted); margin-bottom: 28px; line-height: 1.6;
}
.gate-features { text-align: left; margin: 0 auto 28px; max-width: 360px; }
.gate-feature {
  display: flex; align-items: flex-start; gap: 10px;
  margin-bottom: 14px; font-size: 13px; color: var(--text); line-height: 1.5;
}
.gate-feature .check { color: var(--success); font-weight: 700; font-size: 16px; flex-shrink: 0; margin-top: 1px; }
.gate-form { display: flex; flex-direction: column; gap: 10px; }
.gate-input {
  width: 100%; padding: 14px 18px;
  border: 1.5px solid var(--dark-border); border-radius: 10px;
  background: var(--dark-input); color: var(--text);
  font-family: 'DM Sans', sans-serif; font-size: 14px;
  outline: none; transition: border-color 0.3s;
}
.gate-input:focus { border-color: var(--gold); }
.gate-input::placeholder { color: var(--text-muted); }
.gate-btn {
  width: 100%; padding: 16px;
  background: linear-gradient(135deg, var(--gold), var(--accent));
  border: none; border-radius: 12px; color: #fff;
  font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 600;
  cursor: pointer; transition: all 0.3s; letter-spacing: 0.5px;
}
.gate-btn:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(212,115,140,0.3); }
.gate-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none; }
.gate-fine { font-size: 11px; color: var(--text-muted); margin-top: 12px; }
.gate-error { color: #d44; font-size: 12px; margin-top: 6px; display: none; }

.tool-section { display: none; }
.tool-section.unlocked { display: block; animation: fadeIn 0.6s ease forwards; }

.pro-banner {
  background: linear-gradient(135deg, rgba(212,115,140,0.08), rgba(196,96,122,0.08));
  border: 1.5px solid rgba(212,115,140,0.3);
  border-radius: 16px; padding: 28px 32px;
  margin-top: 40px; text-align: center;
}
.pro-banner h3 { font-family: 'Playfair Display', serif; font-size: 18px; color: var(--gold); margin-bottom: 6px; }
.pro-banner p { font-size: 13px; color: var(--text-muted); line-height: 1.5; }

.site-footer {
  margin-top: 48px; padding: 32px 0 16px;
  border-top: 1px solid var(--dark-border);
  text-align: center; font-size: 12px; color: var(--text-muted); line-height: 1.8;
}
.site-footer a { color: var(--gold); text-decoration: none; }
.site-footer a:hover { text-decoration: underline; }
.site-footer .footer-contact { margin-bottom: 12px; }
.site-footer .footer-legal { font-size: 11px; color: var(--text-muted); opacity: 0.7; }

</style>
</head>
<body>

<div class="container">

  <div class="header">
    <div class="brand">Captured Celebrations</div>
    <h1>AI Booth <span>Prompt Engine</span></h1>
    <p class="subtitle">Generate copy-paste-ready AI prompts for your photo booth AI filters</p>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- EMAIL GATE -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="gate-overlay" id="gateOverlay">
    <div class="gate-card">
      <div class="gate-icon">‚ú¶</div>
      <h2>Get Free Access</h2>
      <p class="gate-sub">Stop buying $5‚Äì$15 prompts. Build unlimited custom AI photo booth prompts in seconds.</p>

      <div class="gate-features">
        <div class="gate-feature">
          <span class="check">‚úì</span>
          <span><strong>11 Art Styles</strong> ‚Äî Cinematic, Watercolor, Caricature, Pixar 3D, Anime, and more</span>
        </div>
        <div class="gate-feature">
          <span class="check">‚úì</span>
          <span><strong>9 Event Themes</strong> ‚Äî Wedding, Corporate, Quincea√±era, Holiday, and more</span>
        </div>
        <div class="gate-feature">
          <span class="check">‚úì</span>
          <span><strong>Auto Filter Selection</strong> ‚Äî Picks the best AI filter for your setup</span>
        </div>
        <div class="gate-feature">
          <span class="check">‚úì</span>
          <span><strong>Copy-Paste Ready</strong> ‚Äî Prompts formatted for your booth software</span>
        </div>
      </div>

      <div class="gate-form">
        <input type="text" class="gate-input" id="gateName" placeholder="First name (optional)">
        <input type="email" class="gate-input" id="gateEmail" placeholder="Your email address" required>
        <button class="gate-btn" id="gateBtn" onclick="submitGate()">‚ú¶ Get Free Access</button>
        <div class="gate-error" id="gateError"></div>
      </div>

      <p class="gate-fine">No spam, ever. We'll only send you photo booth tips & tool updates.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TOOL (hidden until email submitted) -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="tool-section" id="toolSection">

  <div class="builder-section" id="builderSection">

  <div class="steps">
    <div class="step-dot active" id="dot1"></div>
    <div class="step-dot" id="dot2"></div>
    <div class="step-dot" id="dot3"></div>
    <div class="step-dot" id="dot4"></div>
  </div>

  <!-- STEP 1: Event Info (auto-selects filter) -->
  <div class="card">
    <div class="card-label">Step 1</div>
    <h3>Tell Me About Your Event</h3>
    <p class="desc">I'll automatically pick the best AI filter for your booth.</p>

    <div style="margin-bottom: 18px;">
      <div class="card-label" style="margin-bottom: 10px;">How many people per photo?</div>
      <div class="toggle-row" id="peopleRow">
        <button class="toggle-chip" onclick="selectPeople(this)" data-val="1">1 person</button>
        <button class="toggle-chip" onclick="selectPeople(this)" data-val="2-3">2‚Äì3 people</button>
        <button class="toggle-chip" onclick="selectPeople(this)" data-val="4+">4+ people</button>
      </div>
    </div>

    <div style="margin-bottom: 18px;">
      <div class="card-label" style="margin-bottom: 10px;">What look do you want?</div>
      <div class="toggle-row" id="lookRow">
        <button class="toggle-chip" onclick="selectLook(this)" data-val="photorealistic">Photorealistic</button>
        <button class="toggle-chip" onclick="selectLook(this)" data-val="stylized">Stylized / Artistic</button>
      </div>
    </div>

    <div style="margin-bottom: 0;">
      <div class="card-label" style="margin-bottom: 10px;">Need to include a logo or reference image?</div>
      <div class="toggle-row" id="refRow">
        <button class="toggle-chip" onclick="selectRef(this)" data-val="no">No</button>
        <button class="toggle-chip" onclick="selectRef(this)" data-val="yes">Yes ‚Äî Logo / Reference</button>
      </div>
    </div>

    <div class="rec-banner" id="recBanner">
      <div class="rec-label">‚ú¶ Auto-Selected Filter</div>
      <div class="rec-text" id="recText"></div>
    </div>
  </div>

  <!-- STEP 2: Theme Category -->
  <div class="card">
    <div class="card-label">Step 2</div>
    <h3>Theme Category</h3>
    <p class="desc">What kind of event or theme are you building this for?</p>
    <div class="selection-grid" id="themeGrid">
      <button class="sel-btn" data-value="wedding" onclick="selectTheme(this)">
        <span class="emoji">üíç</span><span class="label">Wedding</span>
      </button>
      <button class="sel-btn" data-value="corporate" onclick="selectTheme(this)">
        <span class="emoji">üè¢</span><span class="label">Corporate</span>
      </button>
      <button class="sel-btn" data-value="quinceanera" onclick="selectTheme(this)">
        <span class="emoji">üëë</span><span class="label">Quincea√±era</span>
      </button>
      <button class="sel-btn" data-value="birthday" onclick="selectTheme(this)">
        <span class="emoji">üéÇ</span><span class="label">Birthday</span>
      </button>
      <button class="sel-btn" data-value="holiday" onclick="selectTheme(this)">
        <span class="emoji">üéÑ</span><span class="label">Holiday Party</span>
      </button>
      <button class="sel-btn" data-value="cultural" onclick="selectTheme(this)">
        <span class="emoji">üå∫</span><span class="label">Cultural Event</span>
      </button>
      <button class="sel-btn" data-value="fashion" onclick="selectTheme(this)">
        <span class="emoji">üëó</span><span class="label">Fashion / Editorial</span>
      </button>
      <button class="sel-btn" data-value="sports" onclick="selectTheme(this)">
        <span class="emoji">‚öΩ</span><span class="label">Sports / Action</span>
      </button>
      <button class="sel-btn" data-value="custom" onclick="selectTheme(this)">
        <span class="emoji">üéØ</span><span class="label">Custom / Other</span>
      </button>
    </div>
  </div>

  <!-- STEP 3: Style Direction -->
  <div class="card">
    <div class="card-label">Step 3</div>
    <h3>Style Direction</h3>
    <p class="desc">Choose a visual style ‚Äî or pick "Custom" and describe your own below.</p>
    <div class="selection-grid" id="styleGrid">
      <button class="sel-btn" data-value="cinematic" onclick="selectStyle(this)">
        <span class="emoji">üé¨</span><span class="label">Cinematic Editorial</span>
      </button>
      <button class="sel-btn" data-value="watercolor" onclick="selectStyle(this)">
        <span class="emoji">üñåÔ∏è</span><span class="label">Watercolor</span>
      </button>
      <button class="sel-btn" data-value="caricature" onclick="selectStyle(this)">
        <span class="emoji">üé®</span><span class="label">Caricature</span>
      </button>
      <button class="sel-btn" data-value="luxury" onclick="selectStyle(this)">
        <span class="emoji">üíé</span><span class="label">Luxury / Glamour</span>
      </button>
      <button class="sel-btn" data-value="fantasy" onclick="selectStyle(this)">
        <span class="emoji">üè∞</span><span class="label">Fantasy / Fairytale</span>
      </button>
      <button class="sel-btn" data-value="retro" onclick="selectStyle(this)">
        <span class="emoji">üìª</span><span class="label">Retro / Vintage</span>
      </button>
      <button class="sel-btn" data-value="pixar" onclick="selectStyle(this)">
        <span class="emoji">üß∏</span><span class="label">Pixar / 3D Stylized</span>
      </button>
      <button class="sel-btn" data-value="bw" onclick="selectStyle(this)">
        <span class="emoji">üñ§</span><span class="label">Black & White</span>
      </button>
      <button class="sel-btn" data-value="anime" onclick="selectStyle(this)">
        <span class="emoji">‚ö°</span><span class="label">Anime / Comic</span>
      </button>
      <button class="sel-btn" data-value="collectible" onclick="selectStyle(this)">
        <span class="emoji">üì¶</span><span class="label">Collectible / Box</span>
      </button>
      <button class="sel-btn" data-value="customStyle" onclick="selectStyle(this)">
        <span class="emoji">‚úèÔ∏è</span><span class="label">Custom Style</span>
      </button>
    </div>
  </div>

  <!-- STEP 4: Description + Modifiers -->
  <div class="card">
    <div class="card-label">Step 4</div>
    <h3>Describe Your Vision</h3>
    <p class="desc">Add extra details or leave blank for the default style. The more specific, the better.</p>
    <textarea id="vibeInput" placeholder="Example: Valentine's theme with red and pink rim lighting, couple nose-to-nose embrace, nightclub smoke haze, heart-shaped bokeh in background...&#10;&#10;Or: Tropical luau with tiki torches, sunset sky gradient, lei around neck, warm golden-hour backlight...&#10;&#10;Or: 80s prom with neon lights, big hair, retro sparkle, pastel tuxedos..."></textarea>

    <div style="margin-top: 20px;">
      <div class="card-label">Modifiers</div>
      <p class="desc" style="margin-bottom: 10px;">Toggle on any that apply:</p>
      <div class="toggle-row">
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="gender">Gendered wardrobe</button>
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="survey">Survey field [Name]</button>
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="camera">Camera/lens specs</button>
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="bobblehead">Bobblehead</button>
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="logo">Logo in scene</button>
        <button class="toggle-chip" onclick="toggleChip(this)" data-mod="negprompt">Negative prompt</button>
      </div>
    </div>

    <div style="margin-top: 20px; display: flex; gap: 20px; flex-wrap: wrap;">
      <div style="flex: 1; min-width: 160px;">
        <div class="card-label" style="margin-bottom: 10px;">Pose</div>
        <div class="toggle-row" id="poseRow">
          <button class="toggle-chip active" onclick="selectPose(this)" data-pose="random">Random (Recommended)</button>
          <button class="toggle-chip" onclick="selectPose(this)" data-pose="original">Keep Original</button>
        </div>
      </div>
      <div style="flex: 1; min-width: 160px;">
        <div class="card-label" style="margin-bottom: 10px;">Aspect Ratio</div>
        <div class="toggle-row">
          <button class="toggle-chip active" onclick="selectRatio(this)" data-ratio="1:1 (Square)">Square 1:1</button>
          <button class="toggle-chip" onclick="selectRatio(this)" data-ratio="3:4 (Portrait)">Portrait 3:4</button>
          <button class="toggle-chip" onclick="selectRatio(this)" data-ratio="9:16 (Portrait Tall)">Tall 9:16</button>
          <button class="toggle-chip" onclick="selectRatio(this)" data-ratio="4:3 (Landscape)">Landscape 4:3</button>
          <button class="toggle-chip" onclick="selectRatio(this)" data-ratio="16:9 (Landscape Wide)">Wide 16:9</button>
        </div>
      </div>
    </div>

    <button class="generate-btn" onclick="generatePrompt()">‚ú¶ Generate Prompt</button>
  </div>

  <!-- Output -->
  <div class="output-card" id="outputCard">
    <div class="output-header">
      <h3 id="promptTitle">Your Prompt</h3>
      <button class="copy-btn" id="copyBtn" onclick="copyPrompt()">Copy Prompt</button>
    </div>
    <div class="output-meta" id="outputMeta"></div>
    <div class="prompt-output" id="promptOutput"></div>

    <div class="neg-section" id="negSection" style="display:none">
      <h4>Negative Prompt</h4>
      <p id="negOutput"></p>
      <button class="neg-copy-btn" onclick="copyNeg()">Copy Negative Prompt</button>
    </div>

    <div class="tips">
      <h4>Setup Checklist</h4>
      <div class="setup-checklist" id="tipsContent"></div>
    </div>
  </div>

  </div><!-- end builder section -->

  <!-- Pro upsell -->
  <div class="pro-banner">
    <h3>üîç Want Reverse Engineer?</h3>
    <p>Upload any AI photo and get the exact prompt that created it. Coming soon ‚Äî watch your inbox for early access.</p>
  </div>

  </div><!-- end tool section -->

  <!-- Footer -->
  <div class="site-footer">
    <div class="footer-contact">
      <a href="/cdn-cgi/l/email-protection#4b22252d240b282a3b3f3e392e2f282e272e29392a3f2224253865282426"><span class="__cf_email__" data-cfemail="1d74737b725d7e7c6d69686f78797e7871787f6f7c697472736e337e7270">[email&#160;protected]</span></a> ¬∑ <a href="tel:7478954473">(747) 895-4473</a><br>
      <a href="https://www.capturedcelebrations.com" target="_blank">capturedcelebrations.com</a>
    </div>
    <div class="footer-legal">
      ¬© 2026 Captured Celebrations ¬∑ La Crescenta, CA ¬∑ All rights reserved.<br>
      Prompts are generated as creative suggestions. Not affiliated with any photo booth software provider.<br>
      <a href="#" onclick="document.getElementById('privacySection').style.display=document.getElementById('privacySection').style.display==='block'?'none':'block'; return false;">Privacy Policy</a> ¬∑ <a href="/cdn-cgi/l/email-protection#8ae3e4ece5cae9ebfafefff8efeee9efe6efe8f8ebfee3e5e4f9a4e9e5e7">Contact Us</a>
    </div>
    <div id="privacySection" style="display:none; text-align:left; margin-top:20px; padding:24px; background:var(--dark-card); border:1px solid var(--dark-border); border-radius:12px; font-size:12px; color:var(--text-muted); line-height:1.8;">
      <strong style="color:var(--text); font-size:14px;">Privacy Policy</strong><br><br>
      <strong>Last updated:</strong> February 2026<br><br>
      <strong>Who we are:</strong> Captured Celebrations, located in La Crescenta, CA. Contact: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="264f48404966454756525354434245434a43445447524f4948550845494b">[email&#160;protected]</a>, (747) 895-4473.<br><br>
      <strong>What we collect:</strong> When you use this tool, we collect your email address and optionally your first name. We do not collect payment information, browsing history, or any other personal data through this tool.<br><br>
      <strong>How we use it:</strong> We use your email solely to send photo booth tips, product updates, and information about our services. We will never sell, rent, or share your personal information with third parties for their marketing purposes.<br><br>
      <strong>Email service:</strong> Emails are stored and managed through Mailchimp (The Rocket Science Group LLC), which is compliant with applicable data protection standards. Their privacy policy is available at mailchimp.com/legal/privacy.<br><br>
      <strong>Your rights:</strong> You may unsubscribe from our emails at any time using the unsubscribe link in every email, or by contacting us directly. You may also request access to, correction of, or deletion of your personal data by emailing <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b8d1d6ded7f8dbd9c8cccdcadddcdbddd4dddacad9ccd1d7d6cb96dbd7d5">[email&#160;protected]</a>. We will respond within 30 days.<br><br>
      <strong>California residents (CCPA):</strong> You have the right to know what personal information we collect, request its deletion, and opt out of any sale of personal information. We do not sell personal information. To exercise your rights, email <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6e070008012e0d0f1e1a1b1c0b0a0d0b020b0c1c0f1a0701001d400d0103">[email&#160;protected]</a> with subject line "CCPA Request."<br><br>
      <strong>Cookies & local storage:</strong> This tool uses browser local storage to remember that you have already signed up so you are not asked to enter your email again. No tracking cookies are used.<br><br>
      <strong>Changes:</strong> We may update this policy from time to time. Changes will be reflected by the "Last updated" date above.
    </div>
  </div>

</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EMAIL GATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function checkAccess() {
  if (localStorage.getItem('pe_access') === 'granted') {
    unlockTool();
  }
}

async function submitGate() {
  const email = document.getElementById('gateEmail').value.trim();
  const name = document.getElementById('gateName').value.trim();
  const btn = document.getElementById('gateBtn');
  const err = document.getElementById('gateError');

  if (!email || !email.includes('@') || !email.includes('.')) {
    err.textContent = 'Please enter a valid email address';
    err.style.display = 'block';
    return;
  }

  btn.disabled = true;
  btn.textContent = 'Unlocking...';
  err.style.display = 'none';

  try {
    await fetch('/api/subscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, name })
    });
  } catch (e) {
    console.log('Subscribe endpoint error:', e);
  }

  localStorage.setItem('pe_access', 'granted');
  localStorage.setItem('pe_email', email);
  unlockTool();
}

function unlockTool() {
  document.getElementById('gateOverlay').style.display = 'none';
  document.getElementById('toolSection').classList.add('unlocked');
}

checkAccess();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const state = {
  filter: '', theme: '', style: '',
  modifiers: new Set(), pose: 'random',
  ratio: '1:1 (Square)',
  people: '', look: '', refImage: ''
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STEP 1: AUTO FILTER SELECTION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function selectPeople(btn) {
  document.querySelectorAll('#peopleRow .toggle-chip').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.people = btn.dataset.val;
  autoSelectFilter();
}

function selectLook(btn) {
  document.querySelectorAll('#lookRow .toggle-chip').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.look = btn.dataset.val;
  autoSelectFilter();
}

function selectRef(btn) {
  document.querySelectorAll('#refRow .toggle-chip').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.refImage = btn.dataset.val;
  autoSelectFilter();
}

function autoSelectFilter() {
  const { people, look, refImage } = state;
  if (!people || !look) return;

  const banner = document.getElementById('recBanner');
  const text = document.getElementById('recText');
  let filter = '';
  let why = '';

  if (look === 'photorealistic') {
    if (refImage === 'yes') {
      if (people === '1') {
        filter = 'personaFXProReal';
        why = 'PersonaFX Pro Real ‚Äî single person photorealistic with reference image upload for branding control. 5 credits/render.';
      } else {
        filter = 'bananaFXPro';
        why = 'BananaFX Pro Real ‚Äî group photorealistic with reference image upload. Best branding control for groups.';
      }
    } else {
      if (people === '1') {
        filter = 'bananaFXReal';
        why = 'BananaFX Real ‚Äî fastest photorealistic filter. Works great for 1‚Äì3 people. Powered by Gemini 2.5.';
      } else if (people === '2-3') {
        filter = 'bananaFXReal';
        why = 'BananaFX Real ‚Äî fast rendering, works well with 1‚Äì3 people. Best for keeping your booth line moving.';
      } else {
        filter = 'classicFXGroupReal';
        why = 'ClassicFX Group Real ‚Äî built specifically for larger group photos. More consistent results with 4+ people.';
      }
    }
  } else {
    if (refImage === 'yes') {
      filter = 'personaFXProReal';
      why = 'PersonaFX Pro Real ‚Äî reference image + stylized prompt for maximum creative control. 5 credits/render.';
    } else {
      if (people === '1') {
        filter = 'bananaFXStyled';
        why = 'BananaFX Styled ‚Äî best for single-person stylized looks (Pixar, watercolor, illustration). Fast rendering.';
      } else {
        filter = 'personaFXStyled';
        why = 'PersonaFX Styled ‚Äî recommended over BananaFX Styled for group stylized imagery. Better consistency across multiple subjects.';
      }
    }
  }

  const filterNames = {
    bananaFXReal: 'BananaFX Real', bananaFXStyled: 'BananaFX Styled',
    bananaFXPro: 'BananaFX Pro Real', personaFXReal: 'PersonaFX Real',
    personaFXProReal: 'PersonaFX Pro Real', personaFXStyled: 'PersonaFX Styled',
    classicFXGroupReal: 'ClassicFX Group Real', classicFXGroupStyled: 'ClassicFX Group Styled'
  };

  state.filter = filter;
  text.innerHTML = `<strong>${filterNames[filter]}</strong> ‚Äî ${why}`;
  banner.style.display = 'block';
  updateSteps();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SELECTORS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function selectTheme(btn) {
  document.querySelectorAll('#themeGrid .sel-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  state.theme = btn.dataset.value;
  updateSteps();
}

function selectStyle(btn) {
  document.querySelectorAll('#styleGrid .sel-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  state.style = btn.dataset.value;
  updateSteps();
}

function toggleChip(btn) {
  btn.classList.toggle('active');
  const mod = btn.dataset.mod;
  if (state.modifiers.has(mod)) state.modifiers.delete(mod);
  else state.modifiers.add(mod);
}

function selectPose(btn) {
  document.querySelectorAll('#poseRow .toggle-chip').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.pose = btn.dataset.pose;
}

function selectRatio(btn) {
  document.querySelectorAll('[data-ratio]').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  state.ratio = btn.dataset.ratio;
}

function updateSteps() {
  const checks = [state.filter, state.theme, state.style];
  for (let i = 0; i < 4; i++) {
    const el = document.getElementById('dot' + (i + 1));
    if (!el) continue;
    el.classList.remove('active', 'completed');
    if (i < checks.length && checks[i]) el.classList.add('completed');
    else if (i === checks.filter(Boolean).length) el.classList.add('active');
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PROMPT ENGINE v4
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function generatePrompt() {
  const vibe = document.getElementById('vibeInput').value.trim();
  const { filter, theme, style, modifiers, pose, ratio } = state;

  if (!filter) { alert('Please answer the event questions in Step 1 so I can pick the right filter'); return; }
  if (!theme) { alert('Please select a theme category (Step 2)'); return; }
  if (!style) { alert('Please select a style direction (Step 3)'); return; }

  let prompt = '';
  const isReal = ['bananaFXReal','bananaFXPro','personaFXReal','personaFXProReal','classicFXGroupReal'].includes(filter);
  const isStyled = ['bananaFXStyled','personaFXStyled','bananaFXAnimated','classicFXGroupStyled'].includes(filter);
  const isBanana = filter.startsWith('banana');
  const isPersona = filter.startsWith('persona');
  const isGroup = state.people === '2-3' || state.people === '4+';

  const hasGender = modifiers.has('gender');
  const hasSurvey = modifiers.has('survey');
  const hasCamera = modifiers.has('camera');
  const hasBobble = modifiers.has('bobblehead');
  const hasLogo = modifiers.has('logo');
  const hasNeg = modifiers.has('negprompt');

  // ‚îÄ‚îÄ BLOCK 1: SUBJECT PRESERVATION ‚îÄ‚îÄ
  if (style === 'caricature') {
    prompt += 'Turn this photo into a charming, highly detailed, fully colored hand-drawn caricature illustration. This is a complete artistic transformation ‚Äî not a photo filter or effect. Every element including the subject\'s face, skin, eyes, lips, hair, clothing, and body must be fully redrawn in a playful, expressive caricature sketch style. ';
  } else if (isReal) {
    if (isGroup) {
      prompt += 'Use only the uploaded people as the main subjects. Preserve each subject\'s face and hair exactly as uploaded ‚Äî facial structure, proportions, age, skin texture, hairline, hairstyle, length, color, parting, and volume must remain unchanged. No hair restyling, recoloring, thickening, thinning, or smoothing. No facial alteration, beautification, stylization, or exaggeration. Maintain true-to-life, hyper-realistic skin texture, pores, fine lines, and natural lighting response. ';
    } else {
      prompt += 'CRITICAL REQUIREMENT ‚Äî DO NOT MODIFY APPEARANCE: The subject\'s EXACT facial features, bone structure, eye shape, eye color, nose shape, lip shape, skin tone, hair color, hair texture, hair style, and hair length MUST remain completely unchanged and 100% true to the original image. DO NOT alter, modify, change, or deviate from the subject\'s original appearance in ANY way. Keep every facial feature and hair characteristic precisely as they appear in the source image. This is the highest priority instruction. ';
    }
  } else if (isStyled) {
    if (isGroup) {
      prompt += 'Accurately replicate only the exact people present in the input photo. Do not add, remove, or invent any additional figures, bouquets, accessories, or elements not clearly visible in the reference image. Preserve the exact number of subjects, their relative positions, body poses, arm placements, head orientations, gaze directions, facial expressions, smiles, hairstyles, and clothing details precisely as captured, without altering, idealizing, exaggerating, or changing any aspect of posture, expression, or interaction. ';
    } else {
      prompt += 'Preserve the subject\'s likeness, facial features, hairstyle, and expression as faithfully as the stylized rendering allows, maintaining recognizable identity and emotional warmth throughout the transformation. ';
    }
  }

  // ‚îÄ‚îÄ BLOCK 2: BOBBLEHEAD or TRANSFORMATION + STYLE ‚îÄ‚îÄ
  if (hasBobble && style !== 'caricature') {
    prompt += 'Transformed into a hyper-detailed stylized bobblehead portrait with a proportionally enlarged head (approximately 1.5x natural scale) mounted on a slightly smaller torso, creating a charming collectible-figure aesthetic. Maintain ultra-detailed facial rendering ‚Äî every pore, skin texture, and micro-expression preserved ‚Äî while the body is rendered in a polished, miniature figurine style. ';
    prompt += getThemeContext(theme);
  } else if (style === 'caricature') {
    prompt += getCaricatureBlock(theme, isGroup, hasGender);
  } else {
    prompt += getTransformDirective(theme, isReal);
    prompt += getStyleBlock(style, isReal, theme);
  }

  // ‚îÄ‚îÄ BLOCK 3: GENDERED WARDROBE ‚îÄ‚îÄ
  if (hasGender && style !== 'caricature') {
    prompt += getWardrobe(theme, isReal);
  }

  // ‚îÄ‚îÄ BLOCK 4: LOGO / BRANDING ‚îÄ‚îÄ
  if (hasLogo) {
    prompt += 'A branded logo or visual reference is incorporated into the scene ‚Äî appearing naturally on clothing, signage, event decor, or as an elegant watermark element integrated into the composition without disrupting the visual flow. ';
  }

  // ‚îÄ‚îÄ BLOCK 5: SURVEY ‚îÄ‚îÄ
  if (hasSurvey) {
    if (style === 'caricature') {
      prompt += 'Their name appears in bold, playful hand-lettered text near or above the character ‚Äî as if the caricature artist wrote it: [What is your name?]. ';
    } else {
      prompt += 'Their name appears in bold, stylized lettering naturally integrated into the scene ‚Äî rendered on a nameplate, embroidered onto clothing, displayed on event signage, or floating as elegant typographic art: [What is your name?]. ';
    }
  }

  // ‚îÄ‚îÄ BLOCK 6: CUSTOM VIBE ‚îÄ‚îÄ
  if (vibe) prompt += vibe + '. ';

  // ‚îÄ‚îÄ BLOCK 7: CAMERA & LENS ‚îÄ‚îÄ
  if (hasCamera && isReal && style !== 'caricature') {
    prompt += 'Camera & lens: captured on a full-frame sensor with an 85mm f/1.8 portrait lens at ISO 100, 1/200s shutter speed, producing extremely shallow depth of field with smooth, creamy bokeh separation. Ultra-detailed skin microtexture ‚Äî visible pores, natural sheen, subtle subsurface scattering on half-lit planes, fine facial hairs catching rim light, and lifelike contact where hands meet fabric or skin. Slight cinematic grain for a premium film-quality finish. ';
  }

  // ‚îÄ‚îÄ BLOCK 8: QUALITY CLOSER ‚îÄ‚îÄ
  prompt += getQualityCloser(style, isReal);

  // ‚îÄ‚îÄ‚îÄ Display ‚îÄ‚îÄ‚îÄ
  displayOutput(prompt, filter, pose, ratio, hasLogo, hasSurvey, hasBobble, hasNeg, style, isReal, isStyled);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CARICATURE BLOCK (from your reference prompts)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getCaricatureBlock(theme, isGroup, hasGender) {
  let block = '';

  // Art style
  block += 'Art Style: Vibrant full-color ink and marker illustration on a pristine, clean white background, with rich, saturated hues and clear, crisp lines. Use thick, confident black outlines with visible, organic hand-drawn pen strokes, complemented by finer line work for subtle details, then layer smooth, even color fills and soft gradients to create depth and volume. ';

  // Facial rendering
  block += 'All facial features are illustrated entirely with pen lines and color ‚Äî eyes drawn with bold outlines, expressive lashes, clear irises, and bright highlights; lips sketched with curved pen strokes and gently shaded color; skin rendered with warm, flattering tones, using cross-hatching, stippling, and color shading to create depth, volume, and soft shadows. Hair is depicted with flowing, dynamic pen strokes and rich color, showing texture, direction, and movement, with darker color masses for shadowed areas and lighter strokes for highlights. Nothing should appear photographic ‚Äî everything must look like an artisanal, hand-drawn and hand-colored illustration. ';

  // Proportions
  block += 'Caricature Proportions: Subject(s) have exaggerated caricature proportions with oversized heads (approximately 60‚Äì70% of total height) and tiny, simplified bodies (20‚Äì30% of total height), clearly creating a playful big-head-small-body effect. ';

  // Character details
  block += 'Character Details: Facial features are completely illustrated in caricature style ‚Äî slightly exaggerated but flattering, emphasizing charm and personality. Show expressive drawn eyes, genuine illustrated smiles or warm expressions, and distinctive sketched hairstyles that capture the subject\'s likeness. ';

  // Theme-specific attire
  if (hasGender) {
    const attire = {
      wedding: 'For female-presenting subjects: elegant bridal gown in ivory or champagne with illustrated lace details, flowing veil, delicate jewelry. For male-presenting subjects: formal tuxedo with bow tie, boutonni√®re, polished shoes. Clothing is simplified in form yet detailed with pen strokes and color shading indicating seams, folds, drapery, and fabric texture. ',
      corporate: 'For female-presenting subjects: structured blazer in jewel tones over refined blouse, minimal elegant jewelry. For male-presenting subjects: tailored suit in navy or charcoal with crisp shirt and silk tie. Clothing is simplified in form yet detailed with pen strokes and color shading indicating seams, folds, and fabric texture. ',
      quinceanera: 'The quincea√±era wears a stunning illustrated ball gown in vibrant jewel tones with exaggerated tulle volume, sparkling tiara, and elegant jewelry. Chambelanes in coordinated formal suits. Clothing is simplified in form yet detailed with pen strokes showing beading, sequins, and fabric folds. ',
      birthday: 'Subject(s) wear fun, festive party attire in bright, celebratory colors with party accessories like hats, noisemakers, or confetti in hand. Clothing is simplified in form yet detailed with pen strokes and playful color fills. ',
      holiday: 'For female-presenting subjects: festive cocktail dress or elegant blouse in emerald, burgundy, or champagne gold with sparkle accents. For male-presenting subjects: refined blazer or vest over festive button-up in emerald, burgundy, or navy. Clothing is simplified in form yet detailed with pen strokes and warm, rich color shading. ',
      cultural: 'Subject(s) wear culturally significant attire with vibrant traditional patterns, colors, and accessories rendered with careful pen detail and rich color. Clothing is simplified in form yet honors the cultural details with expressive illustration. ',
      fashion: 'For female-presenting subjects: haute couture with bold silhouettes and statement accessories. For male-presenting subjects: designer menswear with fashion-forward details. Rendered in a stylized fashion-illustration meets caricature hybrid with detailed pen work. ',
      sports: 'Subject(s) wear professional sports uniforms with team colors, visible jersey numbers, and athletic accessories. Athletic poses with exaggerated dynamic energy. Clothing rendered with clean color blocks and bold pen outlines. ',
      custom: 'For female-presenting subjects: elegant formal dress or sophisticated outfit. For male-presenting subjects: sharp suit or formal attire with polished details. Clothing is simplified in form yet detailed with pen strokes and color shading indicating seams, folds, and fabric texture. '
    };
    block += attire[theme] || attire.custom;
  } else {
    block += 'Preserve the subject\'s exact clothing, accessories, and styling precisely as shown in the input photo. Render every garment detail ‚Äî seams, folds, drapery, buttons, zippers, fabric texture ‚Äî in the caricature illustration style using simplified forms with expressive pen strokes and color shading that captures the original outfit\'s character while maintaining the playful hand-drawn aesthetic. ';
  }

  // Scene elements
  const scenes = {
    wedding: 'Scene Elements: A simple ground line is lightly sketched and colored at the subjects\' feet to anchor them. Around the subjects, include small hand-drawn red and pink hearts, colorful confetti-like celebratory flourishes, delicate illustrated flower petals, and a few whimsical sparkle lines in bright colors to enhance the romantic, celebratory feel. ',
    corporate: 'Scene Elements: A simple ground line anchors the subjects. Around them, include small illustrated stars, subtle geometric flourishes, and clean professional accent elements. ',
    quinceanera: 'Scene Elements: A simple ground line anchors the subjects. Surround them with illustrated sparkles, small crowns, colorful confetti, floral flourishes in the event colors, and whimsical celebratory elements befitting a quincea√±era. ',
    birthday: 'Scene Elements: A simple ground line anchors the subjects. Surround them with illustrated balloons, colorful confetti, small stars, party streamers, and whimsical birthday cake or candle elements. ',
    holiday: 'Scene Elements: A simple ground line anchors the subjects. Surround them with illustrated snowflakes, small ornaments, twinkling stars, holly berries, and warm seasonal flourishes. ',
    custom: 'Scene Elements: A simple ground line is lightly sketched at the subjects\' feet. Around them, include small hand-drawn celebratory flourishes, colorful confetti elements, and whimsical sparkle lines to enhance the festive feel. '
  };
  block += scenes[theme] || scenes.custom;

  // Background + composition
  block += 'Background remains a clean, untextured white with no extra objects or scenery, keeping focus entirely on the caricature characters. ';

  if (isGroup) {
    block += 'Composition: Arrange subjects in a friendly, balanced group composition standing close together, slightly angled toward the viewer, with overlapping poses that suggest connection and affection. Ensure all figures are fully visible from head to toe within the frame. ';
  } else {
    block += 'Composition: The single subject is centered in the frame, fully visible from head to toe, with a confident, engaging pose angled slightly toward the viewer. ';
  }

  // Mood
  block += 'Mood: Overall atmosphere is playful, charming, and celebratory, with a hint of romantic warmth and joy, as if created live by a skilled event caricature artist at a special celebration. Emphasize hand-crafted, artisanal quality in every line, shade, and color area. ';

  return block;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// THEME CONTEXT (short, for bobblehead)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getThemeContext(theme) {
  const ctx = { wedding:'Set within an elegant wedding celebration. ', corporate:'Set within a premium corporate environment. ', quinceanera:'Set within a regal quincea√±era celebration. ', birthday:'Set within a vibrant birthday party. ', holiday:'Set within a festive holiday celebration. ', cultural:'Set within a culturally rich celebration. ', fashion:'Set within a high-fashion editorial studio. ', sports:'Set within an energetic sporting event. ', custom:'Set within a visually striking, themed environment tailored to the event. ' };
  return ctx[theme] || '';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TRANSFORMATION DIRECTIVES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getTransformDirective(theme, isReal) {
  const d = {
    wedding: isReal ? 'Transformed into a hyper-realistic, ultra-cinematic wedding portrait radiating romance, elegance, and emotional warmth. ' : 'Transformed into a charming, full-length wedding illustration with a soft, whimsical aesthetic that celebrates love and commitment. ',
    corporate: isReal ? 'Reimagined in a premium, editorial-grade corporate portrait radiating authority, confidence, and executive polish. ' : 'Reimagined as a polished, stylized corporate portrait blending professional gravitas with creative flair. ',
    quinceanera: isReal ? 'Transformed into a regal, cinematic quincea√±era celebration portrait radiating cultural pride, elegance, and the joy of this milestone coming-of-age moment. ' : 'Transformed into a vibrant quincea√±era illustration celebrating cultural tradition with artistic flourish and festive grandeur. ',
    birthday: isReal ? 'Placed in a vibrant, cinematic birthday celebration scene bursting with energy, joy, and festive details. ' : 'Transformed into a playful, colorful birthday illustration overflowing with festive energy and whimsical charm. ',
    holiday: isReal ? 'Reimagined in a warm, cinematic holiday portrait with rich seasonal colors, sparkling accents, and festive atmospheric magic. ' : 'Transformed into a festive holiday illustration with warm seasonal palette, twinkling lights, and cozy charm. ',
    cultural: isReal ? 'Transformed into a stunningly rich, cinematic cultural celebration portrait honoring heritage with vibrant color and emotional depth. ' : 'Transformed into a beautifully detailed cultural celebration illustration rich with traditional motifs and vibrant palette. ',
    fashion: isReal ? 'Reimagined as a hyper-realistic, high-fashion editorial portrait with magazine-cover production value and dramatic styling. ' : 'Reimagined as a bold, stylized fashion editorial illustration with avant-garde energy and visual impact. ',
    sports: isReal ? 'Captured in a dynamic, hyper-realistic sports action portrait with athletic intensity, motion energy, and cinematic drama. ' : 'Transformed into a bold, dynamic sports illustration with exaggerated motion and vivid energy. ',
    custom: isReal ? 'Transformed into an ultra-cinematic, editorial-quality portrait with premium production value, dramatic atmosphere, and magazine-worthy polish. ' : 'Transformed into a vibrant, highly detailed stylized portrait with rich artistic flair, bold visual impact, and keepsake-quality production value. '
  };
  return d[theme] || '';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DEEP STYLE BLOCKS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getStyleBlock(style, isReal, theme) {
  const S = {
    cinematic: isReal
      ? 'Lighting: extreme high-contrast cinematic lighting with a directional key light at 45¬∞ creating sculpted, razor-sharp highlights across cheekbones, jawline, and the bridge of the nose, with subtle warm rim lighting tracing the silhouette along hairline, shoulders, and arms for dimensional separation from the background. A secondary fill light at 15% intensity softens shadow transitions without flattening depth. Background features a smooth, professional gradient in deep navy, warm bronze, or rich charcoal tones with soft spotlight falloff and subtle atmospheric haze adding cinematic depth. Skin rendering: ultra-detailed microtexture with visible pores, natural sheen on highlighted planes, fine facial hairs catching rim light, and subtle subsurface scattering creating lifelike warmth in shadow transitions. The mood is editorial, confident, and commanding ‚Äî a portrait that belongs on the cover of a premium publication. '
      : 'Lighting is dramatic and cinematic with bold directional key light creating strong highlights and deep shadows. Rich tonal contrast with warm rim lighting defining silhouettes. Background features smooth gradient tones in deep navy, bronze, or warm charcoal with atmospheric depth. The mood is editorial, confident, and polished with magazine-cover production value. ',

    watercolor: 'Transform this faithful replication into a whimsical, full-length watercolor illustration in a charming boutique style, utilizing loose, flowing watercolor techniques with layered translucent washes, visible brush strokes, and soft bleeding edges to create a light, airy feel. Paint skin with warm, natural tones and subtle rosy cheeks, rendering faces with clean, minimal line work for expressive eyes, warm genuine smiles, and personalized likeness ‚Äî ensuring each subject remains instantly recognizable. Depict clothing with elegant watercolor washes that capture fabric texture, lace patterns, and folds through soft color layering and gentle gradients. If bouquets or floral accessories are present in the input photo, include them using delicate watercolor botanicals; do not add bouquets or flowers if they are not in the original. Surround the subjects with subtle, complementary watercolor botanical elements ‚Äî soft eucalyptus leaves, delicate foliage, and light floral accents in muted sage greens, dusty rose, warm gold, and creams ‚Äî that frame the composition without overwhelming the figures. Use a light, creamy background with gentle watercolor bleeds and washes for an ethereal, romantic atmosphere. ',

    luxury: isReal
      ? 'The scene exudes ultra-premium luxury and opulence. Rich textures dominate ‚Äî velvet, silk, satin, gold leaf, and gleaming precious metals catch the light at every surface. Jewelry and accessories sparkle with photorealistic clarity, each facet and reflection rendered with precision. Lighting is clean, high-contrast, and warm with golden-hour tones ‚Äî a primary beauty light creating flawless skin illumination, complemented by accent lights at 45¬∞ creating dimensional sparkle on metallic and jeweled surfaces. Background is a smooth deep-tone gradient in champagne, ivory, or deep navy with soft diffused spotlight creating an elegant vignette. Skin rendering emphasizes luminous, healthy texture with natural glow, refined pore detail, and subtle highlights on cheekbones and collarbones. The overall tone radiates wealth, confidence, and timeless sophistication ‚Äî as if shot for a luxury brand campaign. '
      : 'The scene radiates luxury through rich textures, gleaming jewelry, and refined styling. Warm golden lighting emphasizes sparkle and depth. Background is a smooth gradient in champagne, ivory, or deep navy with elegant spotlight vignette. The aesthetic is aspirational, sophisticated, and premium. ',

    fantasy: isReal
      ? 'The scene is set in a breathtaking, enchanted environment where golden-hour light filters through magical surroundings ‚Äî an ancient forest clearing, crystal palace, or twilight garden of impossible blooms. Volumetric light rays pierce through atmospheric haze, creating ethereal god-rays that bathe the subjects in warm, dreamy illumination. Rich fabrics in jewel tones ‚Äî deep emerald, sapphire blue, ruby red, and amethyst purple ‚Äî drape and flow with photorealistic texture. Ornate crowns, tiaras, or jewelry catch individual light sources, creating tiny starbursts and prismatic reflections. Lighting is warm and multi-layered: a primary golden key light, secondary cool rim light defining silhouettes, and scattered practical lights from floating lanterns, fireflies, or magical particles suspended in air. Subtle bokeh renders background elements into dreamy, out-of-focus orbs of warm color. '
      : 'Set in an enchanted, magical environment bathed in warm golden light. Rich jewel-tone fabrics, ornate crowns or jewelry, and atmospheric elements like floating particles, fireflies, or magical wisps create a fairytale mood. Soft dreamy bokeh, warm rim lighting, and layered atmospheric haze give otherworldly depth and romance. ',

    retro: isReal
      ? 'The scene channels authentic retro nostalgia with period-accurate color grading ‚Äî warm amber, burnt sienna, avocado green, and cream tones reminiscent of vintage Kodachrome or Polaroid film stock. Subtle but visible film grain texture overlays the entire image with organic, analog warmth. Lighting mimics period-appropriate sources: warm tungsten practicals, neon accent colors, or diffused daylight through vintage window treatments. Era-appropriate set design ‚Äî textured wallpaper, vintage furniture, retro signage, analog technology ‚Äî fills the background with authentic period character. Color transitions are soft and slightly faded at edges, mimicking natural film vignetting. The mood is warm, nostalgic, and transportive ‚Äî like discovering a perfectly preserved photograph from a golden era. '
      : 'Authentic retro aesthetic with vintage color grading in warm amber, burnt orange, avocado, and cream tones with visible film grain. Period-appropriate styling, bold patterns, and era-specific environmental details. Warm, slightly faded palette with soft vignetting mimics vintage film stock. The mood is nostalgic, playful, and transportive. ',

    pixar: 'Transform into a charming, hyper-detailed Pixar-style 3D animated character with smooth, polished skin surfaces retaining recognizable likeness ‚Äî preserving the unique shape of eyes, nose, mouth, and facial structure while applying characteristic Pixar stylization: slightly enlarged expressive eyes with detailed iris reflections and catch-lights, a subtly reduced nose, smooth rounded features, and exaggerated yet emotionally authentic expressions. Hair rendered as sculpted, flowing 3D geometry with strand highlights and subsurface translucency. Clothing transforms into richly textured 3D fabric ‚Äî each fold, wrinkle, and material type rendered with tactile realism. Set in a vibrant, fully realized 3D environment with warm, balanced studio lighting ‚Äî primary key light creating soft facial shadows, bounced fill light, and colorful rim light separating character from a themed background. Colors are saturated, cheerful, and harmonious. Feels like an official production still from a AAA animated feature film. ',

    bw: isReal
      ? 'Capture in stunning high-contrast black and white with the depth, grain, and tonal richness of premium analog silver gelatin film. Lighting is dramatic and highly directional ‚Äî a single powerful key light sculpts deep, defined shadows across facial planes, emphasizing bone structure, jawline definition, and textural detail of skin, fabric, and hair. Bright highlights roll smoothly into rich, inky blacks with full, continuous tonal range. Fine, organic film grain adds tactile analog warmth without sacrificing sharpness. Subtle vignetting darkens edges, drawing focus to the subject\'s eyes and expression. Skin shows every pore, fine line, and hair with clinical clarity in highlighted areas while shadow zones remain deep and mysterious. The monochrome palette creates timeless, emotionally powerful editorial sophistication. '
      : 'Dramatic black and white with bold tonal contrast, rich shadows, and luminous highlights. Strong directional lighting emphasizes form, structure, and emotional intensity. Fine organic grain adds analog warmth. Timeless editorial sophistication with powerful emotional impact. ',

    anime: isReal
      ? 'Render in bold, high-energy anime or manga-inspired style with vivid, saturated colors, dramatic cel-shading with sharp shadow edges, and clean confident linework. Dynamic composition with exaggerated perspective ‚Äî slightly low camera angle for heroic framing. Motion lines, speed streaks, or energy auras radiate from the subject. Eyes are large, expressive, and detailed with vibrant iris colors, specular highlights, and emotional depth. Hair flows dynamically with strand groups catching colored highlights. Background features bold graphic elements ‚Äî radiating lines, color gradients, particle effects. Lighting follows anime conventions: strong rim light in contrasting color, dramatic cast shadows, and selective highlight flares. Feels like a key visual from a premium anime production. '
      : 'Bold anime or comic-book style with vivid saturated colors, dramatic cel-shading, and clean linework. Dynamic composition with exaggerated pose, motion lines, and energy effects. Large expressive eyes, flowing dynamic hair, and bold graphic background. High-energy and visually striking. ',

    collectible: 'Posed standing upright as if packaged inside a retail-style collectible display box with a transparent, slightly reflective plastic front panel showing realistic material properties ‚Äî subtle reflections, edge distortion, and thickness at corners. Box interior themed to match the event with miniature accessories, props, and environmental details. Outer box features bold, clean professional lettering with event name, high-quality packaging design with realistic corrugated cardboard textures on visible edges, branded color palette, UPC codes, logos, and feature callouts. Plastic front panel shows soft studio reflections. Lit with clean product photography lighting ‚Äî soft overhead key, subtle fill from below, and accent lights creating depth on box surfaces. ',

    customStyle: isReal
      ? 'Lighting: dramatic, high-contrast directional lighting with a warm key light at 45¬∞ sculpting defined highlights across facial planes, complemented by subtle rim lighting tracing the silhouette for dimensional separation. A soft fill light at 20% intensity preserves shadow detail without flattening depth. Background features a smooth, professional gradient with soft atmospheric haze adding cinematic depth. Skin rendering: ultra-detailed microtexture with visible pores, natural sheen on highlighted planes, and subtle subsurface scattering creating lifelike warmth. The overall mood is polished, intentional, and visually striking ‚Äî crafted to feel premium and print-worthy. '
      : 'Rendered in a bold, highly detailed artistic style with rich saturated colors, confident linework or brushwork, and strong visual impact. Lighting is dramatic with warm directional key light creating defined highlights and atmospheric shadows. Background features complementary tones with depth and visual interest ‚Äî gradient colors, environmental details, or thematic elements that enhance the composition without overwhelming the subject. Colors are vibrant and harmonious with intentional contrast between subject and background. The overall aesthetic is polished, expressive, and visually striking ‚Äî a keepsake-quality artistic portrait with professional production value. '
  };
  return S[style] || '';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GENDERED WARDROBE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getWardrobe(theme, isReal) {
  const d = isReal ? 'with photorealistic fabric textures, natural draping, and visible material quality ' : '';
  const W = {
    wedding: `For female looks: elegant flowing gown in ivory, champagne, blush, or soft gold with delicate lace, beadwork, or embroidery ${d}‚Äî refined jewelry, soft floral hair accessories or veil, classic bridal shoes. For male looks: tailored suit in charcoal, navy, or warm grey with crisp white shirt, silk tie or bowtie, fresh boutonni√®re, polished dress shoes, subtle cufflinks. `,
    corporate: `For female looks: structured power blazer in burgundy, emerald, sapphire, or warm camel over refined blouse ${d}‚Äî minimal gold or silver jewelry, quality watch, polished heels. For male looks: tailored navy, charcoal, or slate suit with crisp white or light blue shirt, silk tie, polished oxfords ${d}‚Äî quality timepiece, subtle pocket square. `,
    holiday: `For female looks: elegant holiday cocktail dress in emerald, burgundy, champagne gold, or cranberry with sparkle accents ${d}‚Äî festive jewelry and seasonal accessories. For male looks: refined blazer or vest over festive button-up in emerald, burgundy, or navy ${d}‚Äî metallic tie or festive pocket square. `,
    quinceanera: `For the quincea√±era: breathtaking ball gown in royal purple, fuchsia, champagne gold, or emerald with beading, sequins, layered tulle ${d}‚Äî sparkling tiara, coordinated jewelry, satin gloves. For chambelanes: formal suits in coordinating colors with polished shoes and boutonnieres. `,
    sports: `Professional sports uniform with authentic athletic detailing ‚Äî visible jersey number, team color blocking, performance fabric texture ${d}‚Äî athletic footwear and sport-specific equipment. `,
    fashion: `For female looks: haute couture with architectural silhouettes, statement fabrics, bold contrasts, editorial accessories ${d}. For male looks: designer menswear with fashion-forward details, unconventional proportions, premium fabrics ${d}. `
  };
  return W[theme] || `Elegant attire in warm or jewel tones appropriate to the occasion ${d}‚Äî refined accessories and polished finishing touches. `;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// QUALITY CLOSER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getQualityCloser(style, isReal) {
  const C = {
    caricature: 'Emphasize hand-crafted, artisanal quality in every line, shade, and color area. The final caricature should feel like a premium, gift-worthy keepsake created by a world-class event caricature artist. High resolution, highly detailed, professional hand-drawn illustration quality.',
    watercolor: 'Resulting in fashion-forward, boutique-quality portraiture that is whimsical yet sophisticated ‚Äî hand-painted watercolor look, high detail in faces and attire, joyful celebratory mood. High resolution, highly detailed, professional finish, 4k quality.',
    pixar: 'The final image feels like an official production still from a high-budget animated feature ‚Äî polished, emotionally engaging, technically flawless. High resolution, highly detailed, professional 3D render quality.',
    collectible: 'Studio-lit environment with sharp clarity, professional product photography aesthetic, hyper-realistic packaging materials. High resolution, highly detailed, photorealistic product photography style.',
    anime: 'The final image radiates kinetic energy, emotional expressiveness, and visual impact ‚Äî a premium anime-style portrait. High resolution, vivid detail, professional illustration quality.',
    bw: 'Mood: timeless, emotionally powerful, editorially sophisticated ‚Äî a monochrome portrait destined for gallery exhibition. High resolution, fine-grain detail, premium analog film aesthetic.'
  };
  if (C[style]) return C[style];
  if (isReal) return 'Mood: the final image radiates emotional authenticity, cinematic production value, and magazine-quality polish. Every element ‚Äî skin texture, fabric detail, atmospheric lighting ‚Äî converges into a portrait that feels premium, intentional, and worth printing large. High resolution, highly detailed, professional finish, 4k photorealistic quality.';
  return 'The final image feels polished, vibrant, and visually cohesive ‚Äî a keepsake-quality portrait radiating artistic flair, emotional warmth, and professional production value. High resolution, highly detailed, 4k quality.';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DISPLAY OUTPUT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function displayOutput(prompt, filter, pose, ratio, hasLogo, hasSurvey, hasBobble, hasNeg, style, isReal, isStyled) {
  const outputCard = document.getElementById('outputCard');
  document.getElementById('promptOutput').textContent = prompt;

  const t = { wedding:'Wedding', corporate:'Corporate', quinceanera:'Quincea√±era', birthday:'Birthday', holiday:'Holiday', cultural:'Cultural', fashion:'Fashion', sports:'Sports', custom:'Custom' };
  const s = { cinematic:'Cinematic', watercolor:'Watercolor', luxury:'Luxury', fantasy:'Fantasy', retro:'Retro', pixar:'Pixar 3D', bw:'B&W', anime:'Anime', collectible:'Collectible', caricature:'Caricature', customStyle:'Custom' };
  document.getElementById('promptTitle').textContent = `${t[state.theme]||'Custom'} ‚Äî ${s[style]||'Custom'} Portrait`;

  const FN = { bananaFXReal:'BananaFX Real', bananaFXStyled:'BananaFX Styled', bananaFXPro:'BananaFX Pro Real', bananaFXAnimated:'BananaFX Animated', personaFXReal:'PersonaFX Real', personaFXProReal:'PersonaFX Pro Real', personaFXStyled:'PersonaFX Styled', classicFXGroupReal:'ClassicFX Group Real', classicFXGroupStyled:'ClassicFX Group Styled' };

  document.getElementById('outputMeta').innerHTML = `
    <span class="meta-tag">${FN[filter]||filter}</span>
    <span class="meta-tag">${ratio}</span>
    <span class="meta-tag">${pose==='random'?'Random Pose':'Original Pose'}</span>
    ${hasLogo?'<span class="meta-tag">Logo / Ref</span>':''}
    ${hasSurvey?'<span class="meta-tag">Survey</span>':''}
    ${hasBobble?'<span class="meta-tag">Bobblehead</span>':''}
  `;

  const negSection = document.getElementById('negSection');
  if (hasNeg) {
    let neg = 'blurry, low quality, pixelated, distorted faces, extra limbs, extra fingers, deformed hands, watermark, text overlay (unless specified), cropped composition, oversaturated, noisy';
    if (isReal) neg += ', CHANGING FACE, ALTERING HAIR, DIFFERENT HAIRSTYLE, MODIFIED FACIAL FEATURES, different hair color, different hair length, different eye color, altered bone structure, changed appearance, cartoon, anime, illustration, painting style, unrealistic skin, plastic skin, mannequin-like, AI artifacts, beauty filters, stylized skin, face swapping, hair smoothing, hair recoloring';
    if (isStyled && style !== 'bw') neg += ', photorealistic, dull colors, flat lighting';
    if (style === 'watercolor') neg += ', photorealistic, hard edges, digital rendering, vector art, sharp outlines';
    if (style === 'caricature') neg += ', photorealistic, photo filter effect, smooth digital rendering, 3D render, plastic look, generic clip-art style';
    if (style === 'bw') neg += ', color, saturation, warm tones, cool tones';
    if (style !== 'bw') neg += ', all-black clothing, predominantly black background, dark muddy tones';
    document.getElementById('negOutput').textContent = neg;
    negSection.style.display = 'block';
  } else { negSection.style.display = 'none'; }

  // Checklist
  const CC = { bananaFXReal:'Standard', bananaFXStyled:'Standard', bananaFXPro:'Higher', bananaFXAnimated:'Standard', personaFXReal:'4 credits', personaFXProReal:'5 credits', personaFXStyled:'4 credits', classicFXGroupReal:'Standard', classicFXGroupStyled:'Standard' };
  let list = `‚òê In your booth software: Enable AI filters / AI Experience ‚Üí Save<br>`;
  list += `‚òê Add an AI filter ‚Äî <strong>Snappic users: select ${FN[filter]||filter}</strong><br>`;
  list += `‚òê Paste prompt into the prompt field<br>`;
  list += `‚òê Set Pose: <strong>${pose==='random'?'Random (recommended)':'Keep Original'}</strong><br>`;
  list += `‚òê Set Aspect Ratio: <strong>${ratio}</strong> ‚Äî must match your template frame orientation<br>`;
  if (hasSurvey) { list += `‚òê Enable Survey ‚Üí insert guest name field into prompt: [What is your name?]<br>`; }
  if (hasLogo && (filter==='bananaFXPro'||filter==='personaFXProReal')) { list += `‚òê Upload reference/logo image (Snappic: Options ‚Üí Reference Image)<br>`; }
  else if (hasLogo) { list += `‚ö†Ô∏è Reference image upload requires a Pro-tier AI filter (Snappic: BananaFX Pro Real or PersonaFX Pro Real)<br>`; }
  list += `‚òê Assign filter to template ‚Üí Test with 2‚Äì3 different faces<br>`;
  list += `<br>üí° <strong>Booth tips:</strong> Good lighting, plain backdrop, guests facing camera, natural smile, no wild poses.`;
  document.getElementById('tipsContent').innerHTML = list;

  outputCard.classList.add('visible');
  outputCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
  document.querySelectorAll('.step-dot').forEach(d => d.classList.add('completed'));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// COPY FUNCTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function copyPrompt() {
  navigator.clipboard.writeText(document.getElementById('promptOutput').textContent).then(() => {
    const btn = document.getElementById('copyBtn');
    btn.textContent = '‚úì Copied!'; btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'Copy Prompt'; btn.classList.remove('copied'); }, 2000);
  });
}

function copyNeg() {
  navigator.clipboard.writeText(document.getElementById('negOutput').textContent).then(() => {
    const btn = event.target;
    btn.textContent = '‚úì Copied!';
    setTimeout(() => { btn.textContent = 'Copy Negative Prompt'; }, 2000);
  });
}

</script>
</body>
</html>
